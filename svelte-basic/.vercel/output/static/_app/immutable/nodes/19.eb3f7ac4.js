import{S as A,i as G,s as J,k,q as I,a as w,l as y,m as v,r as j,h as b,c as H,n as x,b as _,G as O,L as z,H as U,O as D,I as F,u as K,w as M}from"../chunks/index.204e011a.js";import{w as Q}from"../chunks/index.1aa3161a.js";const N=Q([]),P={subscribe:N.subscribe,setHob:f=>{N.set(f)},addHob:f=>{N.update(t=>t.concat(f))}};function q(f,t,o){const i=f.slice();return i[7]=t[o],i}function B(f){let t,o;return{c(){t=k("p"),o=I("isLoading")},l(i){t=y(i,"P",{});var s=v(t);o=j(s,"isLoading"),s.forEach(b)},m(i,s){_(i,t,s),O(t,o)},d(i){i&&b(t)}}}function C(f){let t,o=f[7]+"",i;return{c(){t=k("li"),i=I(o)},l(s){t=y(s,"LI",{});var r=v(t);i=j(r,o),r.forEach(b)},m(s,r){_(s,t,r),O(t,i)},p(s,r){r&4&&o!==(o=s[7]+"")&&K(i,o)},d(s){s&&b(t)}}}function R(f){let t,o,i,s,r,h,E,d,l,p,S,g,c=f[1]&&B(),m=f[2],a=[];for(let e=0;e<m.length;e+=1)a[e]=C(q(f,m,e));return{c(){t=k("label"),o=I("hobs"),i=w(),s=k("input"),r=w(),h=k("button"),E=I("add hobs"),d=w(),c&&c.c(),l=w(),p=k("ul");for(let e=0;e<a.length;e+=1)a[e].c();this.h()},l(e){t=y(e,"LABEL",{for:!0});var u=v(t);o=j(u,"hobs"),u.forEach(b),i=H(e),s=y(e,"INPUT",{type:!0,id:!0}),r=H(e),h=y(e,"BUTTON",{});var n=v(h);E=j(n,"add hobs"),n.forEach(b),d=H(e),c&&c.l(e),l=H(e),p=y(e,"UL",{});var L=v(p);for(let T=0;T<a.length;T+=1)a[T].l(L);L.forEach(b),this.h()},h(){x(t,"for","hobId"),x(s,"type","text"),x(s,"id","hobId")},m(e,u){_(e,t,u),O(t,o),_(e,i,u),_(e,s,u),f[4](s),_(e,r,u),_(e,h,u),O(h,E),_(e,d,u),c&&c.m(e,u),_(e,l,u),_(e,p,u);for(let n=0;n<a.length;n+=1)a[n]&&a[n].m(p,null);S||(g=z(h,"click",f[3]),S=!0)},p(e,[u]){if(e[1]?c||(c=B(),c.c(),c.m(l.parentNode,l)):c&&(c.d(1),c=null),u&4){m=e[2];let n;for(n=0;n<m.length;n+=1){const L=q(e,m,n);a[n]?a[n].p(L,u):(a[n]=C(L),a[n].c(),a[n].m(p,null))}for(;n<a.length;n+=1)a[n].d(1);a.length=m.length}},i:U,o:U,d(e){e&&b(t),e&&b(i),e&&b(s),f[4](null),e&&b(r),e&&b(h),e&&b(d),c&&c.d(e),e&&b(l),e&&b(p),D(a,e),S=!1,g()}}}function V(f,t,o){let i;F(f,P,l=>o(2,i=l));let s=[],r,h=!1;h=!0,fetch("https://svelte-max-658a0-default-rtdb.firebaseio.com/hobbies.json").then(l=>{if(!l.ok)throw new Error("failed");return l.json()}).then(l=>{o(1,h=!1),P.setHob(Object.values(l));for(const p of l)console.log(p,l[p]);return s}).catch(l=>{o(1,h=!1),console.log(l)});const E=()=>{P.addHob(r.value),fetch("https://svelte-max-658a0-default-rtdb.firebaseio.com/hobbies.json",{method:"POST",body:JSON.stringify(r.value),headers:{"Content-Type":"application/json"}}).then(l=>{if(o(1,h=!1),!l.ok)throw new Error("failed");alert("저장")}).catch(l=>{o(1,h=!1),console.log(l)})};function d(l){M[l?"unshift":"push"](()=>{r=l,o(0,r)})}return[r,h,i,E,d]}class Y extends A{constructor(t){super(),G(this,t,V,R,J,{})}}export{Y as component};
